### 线程与进程

启动`main`函数时启动了一个`JVM`进程，而main函数所在的线程即为主线程。

> 与进程不同的是同类的多个线程共享进程的**堆**和**方法区**资源，但每个线程有自己的**程序计数器**、**虚拟机栈**和**本地方法栈**，所以系统在产生一个线程，或是在各个线程之间做切换工作时，负担要比进程小得多

[【JVM系统学习之路】看懂方法区 - 掘金 (juejin.cn)](https://juejin.cn/post/6898119654233866248)

java线程基本上使用系统级线程实现。在 Windows 和 Linux 等主流操作系统中，Java 线程采用的是一对一的线程模型，也就是一个 Java 线程对应一个系统内核线程。

### 如何创建线程

#### 线程的生命周期

NEW: 初始状态，线程被创建出来但没有被调用 `start()` 。

RUNNABLE: 运行状态，线程被调用了 `start()`等待运行的状态。

BLOCKED：阻塞状态，需要等待锁释放。

WAITING：等待状态，表示该线程需要等待其他线程做出一些特定动作（通知或中断）。

TIME_WAITING：超时等待状态，可以在指定的时间后自行返回而不是像 WAITING 那样一直等待。

TERMINATED：终止状态，表示该线程已经运行完毕。

![Java 线程状态变迁图](https://oss.javaguide.cn/github/javaguide/java/concurrent/640.png)

**调用 `start()` 方法方可启动线程并使线程进入就绪状态，直接执行 `run()` 方法的话不会以多线程的方式执行。**