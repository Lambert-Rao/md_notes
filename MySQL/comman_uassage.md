## 常用数据库操作

### 增Create

- 单条添加
- 批量添加

### 删Delete

> 为了留存数据，考虑使用`is_delete`字段代替删除操作

- 单条删除
- 批量删除

### 查Read

主要条件和附加条件的排列组合

- 主要条件

1. 按`PrimaryKey`查
2. 全表获取, 用来作缓存
3. 按业务ID(比如角色表的部门ID)查, 然后按时间排序
4. 用关键字段(比如各种ID)查
5. FORM表单查, 用于后台管理系统

- 附加条件
1. 按时间
1. 按`is_delete`状态

### 改Update

- `PrimaryKey`不允许修改, 如果一定要改, 考虑下面两种方式
  -  旧数据作废, 新增一条数据
  - 旧数据作废, 复制旧数据, 修改新数据
- 状态字段的修改: 状态的修改意味着业务事件的触发.
- 关键字段的修改: 拥有自己独立业务属性的一个字段(比如邮箱)
- 非关键信息的修改, 可以写在一起
- FORM表单修改
